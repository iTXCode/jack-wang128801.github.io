<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>vector | Hexo</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="vector 的相关知识">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="vector">
  <meta property="og:site_name" content="Hexo">

  
    <meta property="og:image" content>
  

  
    <link rel="alternative" href="/jun/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link href="/jun/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/jun/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/jun/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/jun/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/jun/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/jun/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/jun/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/jun/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/jun/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>
</html>
<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/jun/">Hexo</a><span class="split"></span><span class="title">vector</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2019-04-04</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  

  
	<div class="col-md-12">
	  

	  <!-- content -->
	  <h3 id="vector-的相关知识"><a href="#vector-的相关知识" class="headerlink" title="vector 的相关知识"></a>vector 的相关知识</h3><a id="more"></a>
<h4 id="1-vector的概述"><a href="#1-vector的概述" class="headerlink" title="1.vector的概述"></a>1.vector的概述</h4><p><strong>vector容器类型，而vector&lt;数据类型&gt; 是定义的对象类型</strong></p>
<blockquote>
<p>vector <int>  a;</int></p>
<p>a为定义的vector<int>类型的对象</int></p>
</blockquote>
<p><strong>其中vector中的数据不是以’\0’结束，而string中的数据是以’\0’结束的</strong></p>
<p><strong>vector中可以管理不同类型的数据</strong></p>
<h5 id="用vector实例化对象"><a href="#用vector实例化对象" class="headerlink" title="用vector实例化对象"></a>用vector实例化对象</h5><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; v;</span><br></pre></td></tr></table></figure>
<h5 id="用vector实例化对象并进行初始化的方式"><a href="#用vector实例化对象并进行初始化的方式" class="headerlink" title="用vector实例化对象并进行初始化的方式"></a>用vector实例化对象并进行初始化的方式</h5><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; v2(<span class="number">10</span>,<span class="string">'x'</span>);</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v4(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">//两种方式都是将实例化对象的前10个元素初始化为指定的值</span></span><br></pre></td></tr></table></figure>
<h5 id="或者是这种形式的使用"><a href="#或者是这种形式的使用" class="headerlink" title="或者是这种形式的使用"></a>或者是这种形式的使用</h5><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s</span><span class="params">(<span class="string">"hello bit!"</span>)</span></span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; v3(s.begin(),s.end());</span><br></pre></td></tr></table></figure>
<blockquote>
<p>利用迭代器的方式来初始化实例化的对象v3;</p>
</blockquote>
<h4 id="关于vector类型迭代器的使用和遍历"><a href="#关于vector类型迭代器的使用和遍历" class="headerlink" title="关于vector类型迭代器的使用和遍历"></a>关于vector类型迭代器的使用和遍历</h4><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	v.push_back(<span class="number">1</span>);</span><br><span class="line">	v.push_back(<span class="number">2</span>);</span><br><span class="line">	v.push_back(<span class="number">3</span>);</span><br><span class="line">	v.push_back(<span class="number">4</span>);</span><br><span class="line">    <span class="comment">//以尾插的方式将内容添加到容器中</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.size(); i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//普通迭代器方式访问</span></span><br><span class="line">	<span class="comment">//vector&lt;int&gt;::iterator vit = v.begin();</span></span><br><span class="line">	<span class="keyword">auto</span> vit = v.begin();</span><br><span class="line">    <span class="comment">//使用auto关键字后其自动匹配迭代器类型</span></span><br><span class="line">	<span class="keyword">while</span> (vit!=v.end())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *vit &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="comment">//需要输出的是迭代器中的内容</span></span><br><span class="line">		vit++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">//反向迭代器的访问方式</span></span><br><span class="line">	<span class="keyword">auto</span> vit1 = v.rbegin();</span><br><span class="line">	<span class="keyword">while</span> (vit1 != v.rend())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *vit1 &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		vit1++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//遍历迭代器中内容的时候不能改变其内容const 迭代器的使用</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::const_iterator  cvit = v.begin();</span><br><span class="line">	<span class="keyword">while</span> (cvit != v.end())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"const:"</span> &lt;&lt; *cvit&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">		cvit++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">//基于范围的for循环,内部调用迭代器的begin和end;</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> &amp;e : v)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; e &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		<span class="comment">//e++;//此处的e匹配的是迭代器中的元素</span></span><br><span class="line">		<span class="comment">//若先++后输出的话就改变了迭代器本来要输出的内容</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>该程序中利用同的方式遍历了整个容器，但是在定义迭代器的时候除了使用auto关键字自动匹配外，在使用vector定义迭代器时要注明类型:其使用方式为 <strong>vector&lt;&gt;的形式</strong></p>
</blockquote>
<figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v)</span></span>&#123;</span><br><span class="line">	<span class="comment">//对于只是简单打印的可以传引用，进而不进行值拷贝</span></span><br><span class="line">	<span class="comment">//若希望不能修改迭代器中的内容，传参数的时候可以传const修饰的参数</span></span><br><span class="line">	<span class="comment">//形如：const vector&lt;int&gt; &amp;v;</span></span><br><span class="line">	<span class="keyword">auto</span> vit1 = v.begin();</span><br><span class="line">	<span class="keyword">while</span> (vit1 != v.end())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *vit1 &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		vit1++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v(<span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line">	printVector(v);</span><br><span class="line">	<span class="comment">//max_size();显示迭代器中可以存放的最多元素数量</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; v2;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; v3;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; v1.max_size() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">//1G</span></span><br><span class="line">    <span class="comment">//查看指定对象的最大容量</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; v2.max_size() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">//4G</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; v3.max_size() &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">//0.5G</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="insert接口的使用"><a href="#insert接口的使用" class="headerlink" title="insert接口的使用"></a>insert接口的使用</h4><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v)</span></span>&#123;</span><br><span class="line">    <span class="comment">//打印函数</span></span><br><span class="line">	<span class="keyword">auto</span> vit1 = v.begin();</span><br><span class="line">	<span class="keyword">while</span> (vit1 != v.end())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *vit1 &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		vit1++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//insert接口的测试</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testVector</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="comment">//vector容量初始值为0(不存放内容的时候)</span></span><br><span class="line">	<span class="comment">//之后扩容的时候window按照原来容量的1.5倍进行扩容</span></span><br><span class="line">	<span class="comment">//Linux按照原来的2倍进行扩容</span></span><br><span class="line">	v.push_back(<span class="number">1</span>);</span><br><span class="line">	v.push_back(<span class="number">2</span>);</span><br><span class="line">	v.push_back(<span class="number">3</span>);</span><br><span class="line">	v.push_back(<span class="number">4</span>);</span><br><span class="line">	v.push_back(<span class="number">5</span>);</span><br><span class="line">	</span><br><span class="line">	v.insert(v.begin(), <span class="number">0</span>);  <span class="comment">//头插</span></span><br><span class="line">	v.insert(v.end(), <span class="number">6</span>);   <span class="comment">//尾插</span></span><br><span class="line">	<span class="comment">//函数的参数不再是位置,而是迭代器</span></span><br><span class="line">	printVector(v);</span><br><span class="line">	v.insert(++v.begin(),<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line">	<span class="comment">//迭代器可以++;首元素的下一个元素</span></span><br><span class="line">	printVector(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扩容的是否会导致迭代器失效</span></span><br><span class="line"><span class="comment">//相当于一个野指针</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	testVector();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="erase接口的使用"><a href="#erase接口的使用" class="headerlink" title="erase接口的使用"></a>erase接口的使用</h4><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v)</span></span>&#123;</span><br><span class="line">	<span class="keyword">auto</span> vit1 = v.begin();</span><br><span class="line">	<span class="keyword">while</span> (vit1 != v.end())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *vit1 &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		vit1++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//erase删除位置的迭代器</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testErase</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line">	v.erase(v.begin());</span><br><span class="line">	printVector(v);</span><br><span class="line">	v.erase(v.begin(), v.end()<span class="number">-3</span>);</span><br><span class="line">	<span class="comment">//迭代器可以进行加减运算</span></span><br><span class="line">	printVector(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	testErase();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="关于删除函数的参数的使用方式"><a href="#关于删除函数的参数的使用方式" class="headerlink" title="关于删除函数的参数的使用方式"></a>关于删除函数的参数的使用方式</h5><blockquote>
<p>若删除的是一个元素(参数是删除位置的迭代器)</p>
<p>iterator erase(iterator pos)</p>
<p>删除的是连续几个元素的话(参数为两个迭代器)<br>iterator erase(iterator first,iterator last)<br>从迭代器first开始删除到迭代器last;</p>
</blockquote>
<h4 id="迭代器失效"><a href="#迭代器失效" class="headerlink" title="迭代器失效"></a>迭代器失效</h4><p><strong>迭代器失效:迭代器指向的位置无效/越界</strong></p>
<h6 id="1-insert-iterator-it-T-x"><a href="#1-insert-iterator-it-T-x" class="headerlink" title="1.insert(iterator it,T x);"></a>1.insert(iterator it,T x);</h6><blockquote>
<p> <strong>插入可能导致增容，会释放原有的空间，开辟新的空间，拷贝原有的内容</strong></p>
<p><strong>插入之前的迭代器位置可能已经被释放，变成类似为野指针的迭代器</strong></p>
<p><strong>调用完insert接口,重新获取迭代器，防止迭代器失效</strong></p>
</blockquote>
<h6 id="2-调用erase-iterator-it"><a href="#2-调用erase-iterator-it" class="headerlink" title="2.调用erase(iterator it);"></a>2.调用erase(iterator it);</h6><blockquote>
<p> <strong>访问越界,调用完erase接口,获取erase接口的返回值，防止迭代器失效</strong></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v)</span></span>&#123;</span><br><span class="line">  <span class="comment">//打印函数</span></span><br><span class="line">	<span class="keyword">auto</span> vit1 = v.begin();</span><br><span class="line">	<span class="keyword">while</span> (vit1 != v.end())&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *vit1 &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		vit1++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testErase</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	v.push_back(<span class="number">1</span>);</span><br><span class="line">	v.push_back(<span class="number">2</span>);</span><br><span class="line">	v.push_back(<span class="number">3</span>);</span><br><span class="line">	v.push_back(<span class="number">4</span>);</span><br><span class="line">	v.push_back(<span class="number">5</span>);</span><br><span class="line">	<span class="keyword">auto</span> vit = v.begin();</span><br><span class="line">	<span class="keyword">while</span> (vit != v.end())&#123;</span><br><span class="line">		<span class="keyword">if</span> (*vit % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">			vit=v.erase(vit);</span><br><span class="line"><span class="comment">//调用完erase接口,获取erase接口的返回值，防止迭代器失效</span></span><br><span class="line"><span class="comment">//若不用vit去那这个接口返回值的话，释放一次后程序奔溃</span></span><br><span class="line"><span class="comment">//这样赋值的目的是防止迭代器指向的位置是一个无效的位置。</span></span><br><span class="line"><span class="comment">//拿取erase接口的返回值(返回值为迭代器)</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			vit++;</span><br><span class="line">	&#125;</span><br><span class="line">	printVector(v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">	v1.push_back(<span class="number">1</span>);</span><br><span class="line">	v1.push_back(<span class="number">2</span>);</span><br><span class="line">	testErase();</span><br><span class="line">	<span class="comment">//auto vit = v1.begin();</span></span><br><span class="line">	<span class="comment">//v1.insert(vit,10);  </span></span><br><span class="line">	<span class="comment">//在插入的时候进行了扩容操作，该过程中重新开辟了空间</span></span><br><span class="line">	<span class="comment">//导致原来的空间失效(迭代器失效),</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">auto</span> vit = v1.begin();</span><br><span class="line">	v1.insert(vit, <span class="number">10</span>);</span><br><span class="line">	vit = v1.begin();</span><br><span class="line">	<span class="comment">//调用完insert接口,重新获取迭代器，防止迭代器失效</span></span><br><span class="line">	*vit = <span class="number">20</span>; <span class="comment">//本质：野指针(指向已经释放的空间)</span></span><br><span class="line">	v1.push_back(<span class="number">3</span>);</span><br><span class="line">	v1.push_back(<span class="number">4</span>);</span><br><span class="line">	printVector(v1);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="swap函数的使用"><a href="#swap函数的使用" class="headerlink" title="swap函数的使用"></a>swap函数的使用</h4><h6 id="全局函数swap和成员函数swap两个函数本质上没有区别"><a href="#全局函数swap和成员函数swap两个函数本质上没有区别" class="headerlink" title="全局函数swap和成员函数swap两个函数本质上没有区别"></a>全局函数swap和成员函数swap两个函数本质上没有区别</h6><h6 id="string类中的swap函数"><a href="#string类中的swap函数" class="headerlink" title="string类中的swap函数"></a>string类中的swap函数</h6><blockquote>
<p> 全局函数：swap(s1,s2)–&gt;{s1.swap(s2)}</p>
</blockquote>
<blockquote>
<p>本质上内部调用的为string的成员函数</p>
</blockquote>
<blockquote>
<p>成员函数：swap(s2)–&gt;s1.swap(s2);<br>全局的swap只是对成员的swap函数进行了封装<br>通用全局变量:swap(T&amp; s1,T&amp; s2)–&gt;{T temp=s1;s1=s2;s2=temp;} 内部进行了拷贝</p>
</blockquote>
<h6 id="vector的swap函数"><a href="#vector的swap函数" class="headerlink" title="vector的swap函数"></a>vector的swap函数</h6><blockquote>
<p>全局函数：swap(s1,s2)–&gt;{s1.swap(s2)}//本质上内部调用的为vector的成员函数<br>成员函数：swap(s2)–&gt;s1.swap(s2);<br>全局的swap只是对成员的swap函数进行了封装</p>
</blockquote>
<figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;veector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span>&amp; e : v)&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; e &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1(<span class="number">3</span>, <span class="number">2</span>);</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">	printVector(v1);</span><br><span class="line">	printVector(v2);</span><br><span class="line">	<span class="comment">//全局的交换函数</span></span><br><span class="line">	swap(v1, v2);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"全局函数交换后:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	printVector(v1);</span><br><span class="line">	printVector(v2);</span><br><span class="line">	<span class="comment">//成员函数</span></span><br><span class="line">	v1.swap(v2);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"成员函数交换后:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	printVector(v1);</span><br><span class="line">	printVector(v2);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="手动释放vector的空间"><a href="#手动释放vector的空间" class="headerlink" title="手动释放vector的空间"></a>手动释放vector的空间</h4><h6 id="1-在一个局部域中定义一个空的vector"><a href="#1-在一个局部域中定义一个空的vector" class="headerlink" title="1.在一个局部域中定义一个空的vector"></a>1.在一个局部域中定义一个空的vector</h6><h6 id="2-调用vector-swap函数，完成空间的交换"><a href="#2-调用vector-swap函数，完成空间的交换" class="headerlink" title="2.调用vector swap函数，完成空间的交换"></a>2.调用vector swap函数，完成空间的交换</h6><h6 id="3-出了局部域，编译器自动调用局部域中定义的局部变量的析构函数，完成空间的释放-vector-lt-T-gt-tmp-tmp-swap-v"><a href="#3-出了局部域，编译器自动调用局部域中定义的局部变量的析构函数，完成空间的释放-vector-lt-T-gt-tmp-tmp-swap-v" class="headerlink" title="3.出了局部域，编译器自动调用局部域中定义的局部变量的析构函数，完成空间的释放{vector &lt; T &gt;  tmp; tmp.swap(v);}"></a>3.出了局部域，编译器自动调用局部域中定义的局部变量的析构函数，完成空间的释放{vector &lt; T &gt;  tmp; tmp.swap(v);}</h6><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v(<span class="number">90</span>, <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; v.capacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">//No1:</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">		<span class="comment">//定义的时候没有初始化,其内部没有内容容量为0</span></span><br><span class="line">		v1.swap(v);</span><br><span class="line">	&#125;<span class="comment">//加了&#123;&#125;不会将v原来的空间释放掉</span></span><br><span class="line">	<span class="comment">//(加了&#123;&#125;会在出作用域的时候调用析构函数释放局部变量v1)</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"No1:"</span>&lt;&lt;v.capacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">//No2:</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1(<span class="number">90</span>, <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; v1.capacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	v1.resize(<span class="number">0</span>);<span class="comment">//改变v1的有效字符数</span></span><br><span class="line">	v1.shrink_to_fit();</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"No2:"</span> &lt;&lt; v1.capacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="OJ中的使用"><a href="#OJ中的使用" class="headerlink" title="OJ中的使用"></a>OJ中的使用</h5><p><strong>题目要求:查找一个数组中没有重复项的那个数</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line"> <span class="keyword">int</span> value = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">size_t</span> i =<span class="number">0</span> ; i &lt; nums.size(); ++i)&#123;</span><br><span class="line"> value ^= nums[i];</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> value;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//在c++11中</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line"> <span class="keyword">int</span> value = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e:nums)&#123;</span><br><span class="line"> value ^= e;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> value;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//迭代器值的交换接口</span></span><br><span class="line">v1.swap(v2);</span><br></pre></td></tr></table></figure>
<h6 id="string-成员有指针有整数"><a href="#string-成员有指针有整数" class="headerlink" title="string:成员有指针有整数"></a>string:成员有指针有整数</h6><blockquote>
<ul>
<li><strong><em>str:指针,__size,</em> __capacity:都是整数</strong></li>
<li><strong>size =_ size,capacity=_ capacity;</strong></li>
</ul>
</blockquote>
<h6 id="vector：成员都为指针"><a href="#vector：成员都为指针" class="headerlink" title="vector：成员都为指针"></a>vector：成员都为指针</h6><blockquote>
<ul>
<li><strong>size= _ finish- _start,  capacity=_endOfStorage-  _start</strong></li>
<li><strong>其中_ finish,_ strat,_endOfStorage都是指针</strong></li>
</ul>
</blockquote>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
			
		
	
		
			
			
			
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
	
	
	
		<li class="prev"><a href="/jun/2019/04/05/Cpp/初阶/List/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/jun/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/jun/2019/03/30/Cpp/初阶/string类/" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2019 John Doe
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/jun/js/jquery.imagesloaded.min.js"></script>
<script src="/jun/js/gallery.js"></script>
<script src="/jun/js/bootstrap.min.js"></script>
<script src="/jun/js/jquery.tableofcontents.min.js"></script>
<script src="/jun/js/tocgenerator.min.js"></script>
<script src="/jun/js/main.js"></script>
<script src="/jun/js/search.js"></script> 




<link rel="stylesheet" href="/jun/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/jun/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




</body>
</html>
